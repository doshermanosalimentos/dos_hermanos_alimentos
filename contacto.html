<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dos Hermanos ‚Äî Contacto & Soporte</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: #a67c52;
      --accent-dark: #7a5c45;
      --bg-light: #fdfaf5;
      --text: #2d2d2d;
      --white: #ffffff;
      --muted: #7d7d7d;
      --wpp: #25D366;
    }

    body { font-family: "Poppins", sans-serif; background-color: var(--bg-light); color: var(--text); margin:0; overflow-x: hidden; }

    /* NAVEGACI√ìN (UNIFICADA) */
    nav { position: fixed; top:0; width:100%; background: rgba(255,255,255,0.98); backdrop-filter: blur(12px); z-index:2000; border-bottom: 1px solid rgba(0,0,0,0.05); height: 70px; display: flex; align-items: center; }
    .nav-inner { max-width:1200px; margin:0 auto; width: 100%; display:flex; justify-content:space-between; align-items:center; padding:0 20px; }
    .brand { display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit; }
    .logo-mark { width:40px; height:40px; transition: 0.5s; }
    .nav-links { display:flex; gap:20px; align-items: center; }
    .nav-links a { text-decoration:none; color: var(--text); font-weight:600; font-size: 13px; text-transform: uppercase; }
    .mobile-menu-btn { display: none; background: none; border: none; font-size: 30px; cursor: pointer; color: var(--text); }

    @media (max-width: 1024px) {
      .mobile-menu-btn { display: block; }
      .nav-links { display: none; flex-direction: column; position: absolute; top: 70px; left: 0; width: 100%; background: white; padding: 20px 0; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
      .nav-links.active { display: flex; }
      .nav-links a { padding: 15px 0; width: 100%; text-align: center; border-bottom: 1px solid #f5f5f5; }
    }

    /* HEADER */
    .contact-header { padding: 130px 20px 40px; text-align: center; background: white; }
    .contact-header h1 { font-size: clamp(32px, 5vw, 42px); margin: 0; color: var(--accent-dark); }
    .contact-header p { color: var(--muted); margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto; }

    /* LAYOUT DE CONTACTO */
    .contact-wrapper { 
      max-width: 1100px; margin: 40px auto 80px; padding: 0 20px;
      display: grid; grid-template-columns: 1fr 1.2fr; gap: 40px; 
    }

    @media (max-width: 850px) { .contact-wrapper { grid-template-columns: 1fr; } }

    /* TARJETAS DE INFO */
    .info-card { background: var(--white); padding: 40px; border-radius: 25px; border: 1px solid #eee; }
    .contact-method { display: flex; align-items: flex-start; gap: 20px; margin-bottom: 30px; }
    .icon-box { 
      background: var(--bg-light); width: 50px; height: 50px; 
      border-radius: 12px; display: flex; align-items: center; 
      justify-content: center; font-size: 22px; flex-shrink: 0;
    }
    .contact-method h4 { margin: 0 0 5px; font-size: 17px; color: var(--accent-dark); }
    .contact-method p { margin: 0; font-size: 14px; color: var(--muted); line-height: 1.6; }

    .delivery-info { 
      background: var(--accent-dark); color: white; border-radius: 20px; padding: 25px;
      margin-top: 20px; text-align: center;
    }

    /* FORMULARIO */
    .form-card { background: var(--white); padding: 40px; border-radius: 25px; border: 1px solid #eee; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; font-size: 12px; font-weight: 700; margin-bottom: 8px; text-transform: uppercase; color: var(--accent); }
    .form-group input, .form-group textarea { 
      width: 100%; padding: 14px; border-radius: 12px; border: 1px solid #eee; 
      font-family: inherit; font-size: 15px; outline: none; transition: 0.3s;
      box-sizing: border-box; background: #fafafa;
    }
    .form-group input:focus, .form-group textarea:focus { border-color: var(--accent); background: #fff; }

    .btn-submit { 
      background: var(--accent); color: white; border: none; padding: 16px; 
      width: 100%; border-radius: 12px; font-weight: 700; font-size: 16px; 
      cursor: pointer; transition: 0.3s;
    }
    .btn-submit:hover { background: var(--accent-dark); transform: translateY(-2px); }

    /* CARRITO MODAL */
    .cart-modal { position: fixed; top: 80px; right: 20px; width: 300px; background: white; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.15); padding: 20px; display: none; z-index: 3000; max-height: 80vh; overflow-y: auto; }

    footer { background: #1a1a1a; color: white; padding: 50px 20px; text-align: center; }
  </style>
</head>

<body>
  <nav>
    <div class="nav-inner">
      <a href="index.html" class="brand">
        <img src="imagenes/logo.png" class="logo-mark" alt="Dos Hermanos">
        <h1 style="margin:0; font-size: 18px;">Dos Hermanos</h1>
      </a>
      <button class="mobile-menu-btn" onclick="document.getElementById('navLinks').classList.toggle('active')">‚ò∞</button>
      <div class="nav-links" id="navLinks">
        <a href="index.html">Inicio</a>
        <a href="perros.html">Perros</a>
        <a href="gatos.html">Gatos</a>
        <a href="accesorios.html">Accesorios</a>
        <a href="antipulgas.html">Antipulgas</a>
        <a href="contacto.html" style="color: var(--accent);">Contacto</a>
        <button id="open-cart" style="background:var(--accent); color:white; border:none; padding:8px 15px; border-radius:12px; cursor:pointer; font-weight:bold;">
          üõí (<span id="cart-count">0</span>)
        </button>
      </div>
    </div>
  </nav>

  <header class="contact-header">
    <h1>Estamos para ayudarte</h1>
    <p>¬øDudas sobre un alimento o accesorio? Escr√≠benos y nuestro equipo te asesorar√° a la brevedad.</p>
  </header>

  <main class="contact-wrapper">
    <aside>
      <div class="info-card">
        <div class="contact-method">
          <div class="icon-box">üí¨</div>
          <div>
            <h4>WhatsApp Directo</h4>
            <p>Atenci√≥n inmediata para pedidos y consultas.<br><strong>097 319 488</strong></p>
          </div>
        </div>

        <div class="contact-method">
          <div class="icon-box">üöö</div>
          <div>
            <h4>Log√≠stica de Env√≠os</h4>
            <p>Llegamos a todo Montevideo en 24hs.</p>
          </div>
        </div>

        <div class="contact-method">
          <div class="icon-box">‚è∞</div>
          <div>
            <h4>Horario de Atenci√≥n</h4>
            <p>Lunes a Viernes: 09:00 a 18:00<br>S√°bados: 09:00 a 14:00</p>
          </div>
        </div>

        <div class="delivery-info">
          <h4 style="margin:0">üì¶ Env√≠o Gratis</h4>
          <p style="margin:5px 0 0; font-size: 13px; opacity: 0.9;">En toda tus compras</p>
        </div>
      </div>
    </aside>

    <section class="form-card">
      <form id="contact-form">
        <div class="form-group">
          <label>Nombre Completo</label>
          <input type="text" id="form-name" placeholder="Ej: Juan P√©rez" required>
        </div>
        <div class="form-group">
          <label>Celular / WhatsApp</label>
          <input type="tel" id="form-tel" placeholder="Tu n√∫mero de contacto" required>
        </div>
        <div class="form-group">
          <label>Asunto</label>
          <input type="text" id="form-subject" placeholder="Ej: Consulta por stock">
        </div>
        <div class="form-group">
          <label>Mensaje</label>
          <textarea id="form-msg" rows="4" placeholder="¬øEn qu√© podemos ayudarte?" required></textarea>
        </div>
        <button type="submit" class="btn-submit">Enviar Mensaje</button>
      </form>
    </section>
  </main>

  <aside class="cart-modal" id="cart-modal">
    <h3 style="margin-top:0; font-size: 18px;">Tu Carrito</h3>
    <div id="cart-items"></div>
    <div style="border-top: 1px solid #eee; padding-top: 15px; margin-top: 15px; display: flex; justify-content: space-between; font-weight: bold;">
      <span>Total:</span><span>$ <span id="cart-total">0</span></span>
    </div>
    <button onclick="checkout()" style="width:100%; background:#25D366; color:white; border:none; padding:15px; border-radius:12px; margin-top:15px; font-weight:bold; cursor:pointer;">Pedir por WhatsApp</button>
  </aside>

  <footer>
    <img src="imagenes/logo.png" style="width:40px; filter:brightness(0) invert(1); margin-bottom:15px;">
    <p style="font-size: 13px; opacity: 0.6;">¬© 2019 Dos Hermanos Alimentos.<br>Montevideo, Uruguay.</p>
  </footer>

<script>
// 1. Cargar el carrito desde la memoria del navegador
let cart = JSON.parse(localStorage.getItem("cart")) || [];

// 2. Funci√≥n para actualizar la visualizaci√≥n (N√∫meros y lista)
function updateCartUI() {
    const cartBody = document.getElementById("cartBody");
    const cartCount = document.getElementById("cart-count");
    const cartTotal = document.getElementById("cartTotal");

    // Actualizar contadores visuales
    if (cartCount) cartCount.textContent = cart.reduce((acc, item) => acc + item.qty, 0);
    if (cartTotal) {
        const totalNum = cart.reduce((acc, item) => acc + (item.price * item.qty), 0);
        cartTotal.textContent = totalNum.toLocaleString();
    }

    // Dibujar la lista de productos dentro del carrito
    if (cartBody) {
        if (cart.length === 0) {
            cartBody.innerHTML = '<p style="text-align:center; color:#999; margin-top:20px;">Tu carrito est√° vac√≠o</p>';
        } else {
            cartBody.innerHTML = cart.map((item, index) => `
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
                    <div>
                        <div style="font-weight:600; font-size:14px;">${item.name}</div>
                        <div style="font-size:12px; color:#777;">${item.qty} x $${item.price.toLocaleString()}</div>
                    </div>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <button onclick="changeQty(${index}, -1)" style="border:none; background:#eee; padding:2px 8px; border-radius:4px; cursor:pointer;">-</button>
                        <span>${item.qty}</span>
                        <button onclick="changeQty(${index}, 1)" style="border:none; background:#eee; padding:2px 8px; border-radius:4px; cursor:pointer;">+</button>
                    </div>
                </div>`).join('');
        }
    }
    // Guardar cambios para que se vean en las otras p√°ginas
    localStorage.setItem("cart", JSON.stringify(cart));
}

// 3. Funci√≥n para cambiar cantidades (+ / -)
window.changeQty = (index, delta) => {
    cart[index].qty += delta;
    if (cart[index].qty <= 0) cart.splice(index, 1);
    updateCartUI();
};

// 4. Escuchador de clics global
document.addEventListener("click", (e) => {
    // Menu celular
    if (e.target.id === "menuToggle") {
        document.getElementById("navLinks").classList.toggle("active");
    }

    // BOT√ìN AGREGAR (Busca la clase .add-btn)
    if (e.target.classList.contains("add-btn")) {
        const card = e.target.closest(".product-card");
        const name = card.dataset.name;
        const price = parseFloat(card.dataset.price);

        const existing = cart.find(i => i.name === name);
        if (existing) {
            existing.qty++;
        } else {
            cart.push({ name, price, qty: 1 });
        }
        updateCartUI();
        
        // Efecto visual de √©xito
        const originalText = e.target.textContent;
        e.target.textContent = "‚úì";
        setTimeout(() => { e.target.textContent = originalText; }, 800);
    }

    // ABRIR / CERRAR CARRITO
    if (e.target.id === "open-cart" || e.target.closest("#open-cart")) {
        document.querySelector(".cart-sidebar").classList.add("active");
        document.querySelector(".cart-overlay").classList.add("active");
    }
    if (e.target.id === "closeCart" || e.target.classList.contains("cart-overlay")) {
        document.querySelector(".cart-sidebar").classList.remove("active");
        document.querySelector(".cart-overlay").classList.remove("active");
    }

    // BOT√ìN FINALIZAR (WhatsApp con TOTAL)
    if (e.target.id === "checkoutBtn") {
        if (cart.length === 0) return alert("Tu carrito est√° vac√≠o");

        const totalFinal = cart.reduce((acc, item) => acc + (item.price * item.qty), 0);
        let msg = "Hola Dos Hermanos! Mi pedido es:%0A%0A";
        
        cart.forEach(item => {
            msg += `‚Ä¢ ${item.name} (x${item.qty}) - $${(item.price * item.qty).toLocaleString()}%0A`;
        });

        msg += `%0A*TOTAL A PAGAR: $${totalFinal.toLocaleString()}*`;
        window.open(`https://wa.me/59897319488?text=${msg}`, '_blank');
    }
});

// Inicializar al cargar la p√°gina
document.addEventListener("DOMContentLoaded", updateCartUI);
</script>
</body>

</html>

